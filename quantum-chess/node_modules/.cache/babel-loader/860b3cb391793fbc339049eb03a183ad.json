{"ast":null,"code":"export function isLegalRookMove(px,py,dx,dy,boardState){if(dx===0||dy===0){if(dx===0){var _ret=function(){var y_dir=Math.sign(dy);var _loop=function _loop(i){var obstructingPiece=boardState.find(function(p){return p.x===px&&p.y===py+i*y_dir;});if(obstructingPiece){return{v:{v:false}};}};for(var i=1;i<Math.abs(dy);i++){var _ret2=_loop(i);if(typeof _ret2===\"object\")return _ret2.v;}return{v:true};}();if(typeof _ret===\"object\")return _ret.v;}if(dy===0){var _ret3=function(){var x_dir=Math.sign(dx);var _loop2=function _loop2(i){var obstructingPiece=boardState.find(function(p){return p.x===px+i*x_dir&&p.y===py;});if(obstructingPiece){return{v:{v:false}};}};for(var i=1;i<Math.abs(dx);i++){var _ret4=_loop2(i);if(typeof _ret4===\"object\")return _ret4.v;}return{v:true};}();if(typeof _ret3===\"object\")return _ret3.v;}}return false;}export function isLegalBishopMove(px,py,dx,dy,boardState){if(Math.abs(dx)===Math.abs(dy)){var _ret5=function(){var x_dir=Math.sign(dx);var y_dir=Math.sign(dy);var _loop3=function _loop3(i){var obstructingPiece=boardState.find(function(p){return p.x===px+i*x_dir&&p.y===py+i*y_dir;});if(obstructingPiece){return{v:{v:false}};}};for(var i=1;i<Math.abs(dx);i++){var _ret6=_loop3(i);if(typeof _ret6===\"object\")return _ret6.v;}return{v:true};}();if(typeof _ret5===\"object\")return _ret5.v;}return false;}export function isLegalNightMove(px,py,dx,dy,boardState){if(Math.abs(dx)===1&&Math.abs(dy)===2||Math.abs(dx)===2&&Math.abs(dy)===1){return true;}return false;}export function isLegalQueenMove(px,py,dx,dy,boardState){var legality=isLegalRookMove(px,py,dx,dy,boardState)||isLegalBishopMove(px,py,dx,dy,boardState);return legality;}export function isLegalKingMove(px,py,dx,dy,boardState){if(Math.abs(dx)<2&&Math.abs(dy)<2){return true;}return false;}","map":{"version":3,"sources":["/home/jaybird/Coding Projects/Chess4/chess/src/referee/pieceLogic.ts"],"names":["isLegalRookMove","px","py","dx","dy","boardState","y_dir","Math","sign","i","obstructingPiece","find","p","x","y","abs","x_dir","isLegalBishopMove","isLegalNightMove","isLegalQueenMove","legality","isLegalKingMove"],"mappings":"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","sourcesContent":["import { Piece } from '../constants'\n\nexport function isLegalRookMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean {\n    if (dx === 0 || dy === 0){\n        if (dx === 0){\n            const y_dir = Math.sign(dy)\n            for (let i = 1; i < Math.abs(dy); i ++){\n                const obstructingPiece = boardState.find(p => p.x === px && p.y === py + i*y_dir) \n                if (obstructingPiece){\n                    return false\n                }\n            } \n            return true\n        }\n        if (dy === 0){\n            const x_dir = Math.sign(dx)\n            for (let i = 1; i < Math.abs(dx); i ++){\n                const obstructingPiece = boardState.find(p => p.x === px + i*x_dir && p.y === py) \n                if (obstructingPiece){\n                    return false\n                }\n            } \n            return true\n        }\n    } \n    return false;\n}\n\nexport function isLegalBishopMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    if (Math.abs(dx) === Math.abs(dy)){\n        const x_dir = Math.sign(dx)\n        const y_dir = Math.sign(dy)\n        for (let i = 1; i < Math.abs(dx); i ++){\n            const obstructingPiece = boardState.find(p => p.x === px + i*x_dir && p.y === py + i*y_dir) \n            if (obstructingPiece){\n                return false\n            }\n        } \n        return true\n    } \n    return false\n}\nexport function isLegalNightMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    if ((Math.abs(dx) === 1 && Math.abs(dy) === 2) || (Math.abs(dx) === 2 && Math.abs(dy) === 1)){\n        return true\n    }\n    return false\n}\nexport function isLegalQueenMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    const legality = isLegalRookMove(px, py, dx, dy, boardState) || isLegalBishopMove(px, py, dx, dy, boardState)\n    return legality\n}\n\n\nexport function isLegalKingMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    if (Math.abs(dx) < 2 && Math.abs(dy) < 2){\n        return true\n    } \n    return false\n}"]},"metadata":{},"sourceType":"module"}