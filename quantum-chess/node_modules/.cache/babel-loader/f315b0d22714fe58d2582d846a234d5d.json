{"ast":null,"code":"export function isLegalRookMove(px, py, dx, dy, boardState) {\n  if (dx === 0 || dy === 0) {\n    if (dx === 0) {\n      const y_dir = Math.sign(dy);\n\n      for (let i = 1; i < Math.abs(dy); i++) {\n        const obstructingPiece = boardState.find(p => p.x === px && p.y === py + i * y_dir);\n\n        if (obstructingPiece) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    if (dy === 0) {\n      const x_dir = Math.sign(dx);\n\n      for (let i = 1; i < Math.abs(dx); i++) {\n        const obstructingPiece = boardState.find(p => p.x === px + i * x_dir && p.y === py);\n\n        if (obstructingPiece) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\nexport function isLegalBishopMove(px, py, dx, dy, boardState) {\n  if (Math.abs(dx) === Math.abs(dy)) {\n    const x_dir = Math.sign(dx);\n    const y_dir = Math.sign(dy);\n\n    for (let i = 1; i < Math.abs(dx); i++) {\n      const obstructingPiece = boardState.find(p => p.x === px + i * x_dir && p.y === py + i * y_dir);\n\n      if (obstructingPiece) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\nexport function isLegalNightMove(px, py, dx, dy, boardState) {\n  if (Math.abs(dx) === 1 && Math.abs(dy) == 2 || Math.abs(dx) === 2 && Math.abs(dy) == 1) {\n    return true;\n  }\n\n  return false;\n}\nexport function isLegalQueenMove(px, py, dx, dy, boardState) {\n  const legality = isLegalRookMove(px, py, dx, dy, boardState) || isLegalBishopMove(px, py, dx, dy, boardState);\n  return legality;\n}\nexport function isLegalKingMove(px, py, dx, dy, boardState) {\n  if (Math.abs(dx) < 2 && Math.abs(dy) < 2) {\n    return true;\n  }\n\n  return false;\n}","map":{"version":3,"sources":["/home/jaybird/Coding Projects/Chess4/chess/src/referee/pieceLogic.ts"],"names":["isLegalRookMove","px","py","dx","dy","boardState","y_dir","Math","sign","i","abs","obstructingPiece","find","p","x","y","x_dir","isLegalBishopMove","isLegalNightMove","isLegalQueenMove","legality","isLegalKingMove"],"mappings":"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","sourcesContent":["import { Piece } from '../constants'\n\nexport function isLegalRookMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean {\n    if (dx === 0 || dy === 0){\n        if (dx === 0){\n            const y_dir = Math.sign(dy)\n            for (let i = 1; i < Math.abs(dy); i ++){\n                const obstructingPiece = boardState.find(p => p.x === px && p.y === py + i*y_dir) \n                if (obstructingPiece){\n                    return false\n                }\n            } \n            return true\n        }\n        if (dy === 0){\n            const x_dir = Math.sign(dx)\n            for (let i = 1; i < Math.abs(dx); i ++){\n                const obstructingPiece = boardState.find(p => p.x === px + i*x_dir && p.y === py) \n                if (obstructingPiece){\n                    return false\n                }\n            } \n            return true\n        }\n    } \n    return false;\n}\n\nexport function isLegalBishopMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    if (Math.abs(dx) === Math.abs(dy)){\n        const x_dir = Math.sign(dx)\n        const y_dir = Math.sign(dy)\n        for (let i = 1; i < Math.abs(dx); i ++){\n            const obstructingPiece = boardState.find(p => p.x === px + i*x_dir && p.y === py + i*y_dir) \n            if (obstructingPiece){\n                return false\n            }\n        } \n        return true\n    } \n    return false\n}\nexport function isLegalNightMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    if ((Math.abs(dx) === 1 && Math.abs(dy) == 2) || (Math.abs(dx) === 2 && Math.abs(dy) == 1)){\n        return true\n    }\n    return false\n}\nexport function isLegalQueenMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    const legality = isLegalRookMove(px, py, dx, dy, boardState) || isLegalBishopMove(px, py, dx, dy, boardState)\n    return legality\n}\n\n\nexport function isLegalKingMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    if (Math.abs(dx) < 2 && Math.abs(dy) < 2){\n        return true\n    } \n    return false\n}"]},"metadata":{},"sourceType":"module"}