{"code":"(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),r=n(6),s=n.n(r),c=(n(11),n(12),n(2)),o=(n(13),n(0));function u(e){var t=e.number,n=e.image;return t%2===0?Object(o.jsx)(\"div\",{className:\"tile black-tile\",children:n&&Object(o.jsx)(\"div\",{style:{backgroundImage:\"url(\".concat(n,\")\")},className:\"chess-piece\"})}):Object(o.jsx)(\"div\",{className:\"tile white-tile\",children:n&&Object(o.jsx)(\"div\",{style:{backgroundImage:\"url(\".concat(n,\")\")},className:\"chess-piece\"})})}n(15);var f,b,l=n(3),v=n(4),h=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\"],p=[1,2,3,4,5,6,7,8];!function(e){e[e.WHITE=0]=\"WHITE\",e[e.BLACK=1]=\"BLACK\"}(f||(f={})),function(e){e[e.PAWN=0]=\"PAWN\",e[e.BISHOP=1]=\"BISHOP\",e[e.NIGHT=2]=\"NIGHT\",e[e.ROOK=3]=\"ROOK\",e[e.QUEEN=4]=\"QUEEN\",e[e.KING=5]=\"KING\"}(b||(b={}));for(var y=[],g=0;g<2;g++){var m=0===g?\"b\":\"w\",O=0===g?f.BLACK:f.WHITE,d=0===g?7:0;y.push({image:\"assets/images/rook_\".concat(m,\".png\"),x:0,y:d,team:O,type:b.ROOK,enPassantable:!1}),y.push({image:\"assets/images/rook_\".concat(m,\".png\"),x:7,y:d,team:O,type:b.ROOK,enPassantable:!1}),y.push({image:\"assets/images/night_\".concat(m,\".png\"),x:1,y:d,team:O,type:b.NIGHT,enPassantable:!1}),y.push({image:\"assets/images/night_\".concat(m,\".png\"),x:6,y:d,team:O,type:b.NIGHT,enPassantable:!1}),y.push({image:\"assets/images/bishop_\".concat(m,\".png\"),x:2,y:d,team:O,type:b.BISHOP,enPassantable:!1}),y.push({image:\"assets/images/bishop_\".concat(m,\".png\"),x:5,y:d,team:O,type:b.BISHOP,enPassantable:!1}),y.push({image:\"assets/images/queen_\".concat(m,\".png\"),x:3,y:d,team:O,type:b.QUEEN,enPassantable:!1}),y.push({image:\"assets/images/king_\".concat(m,\".png\"),x:4,y:d,team:O,type:b.KING,enPassantable:!1})}for(var x=0;x<h.length;x++)y.push({image:\"assets/images/pawn_b.png\",x:x,y:6,team:f.BLACK,type:b.PAWN,enPassantable:!1});for(var j=0;j<h.length;j++)y.push({image:\"assets/images/pawn_w.png\",x:j,y:1,team:f.WHITE,type:b.PAWN,enPassantable:!1});function I(e,t,n){return!!n.find((function(n){return n.x===e&&n.y===t}))}function M(e,t,n,a){var i=a.find((function(n){return n.x===e&&n.y===t}));return!(!i||i.team!==n)}function k(e,t,n,a,i){if(0===n||0===a){if(0===n){var r=function(){for(var n=Math.sign(a),r=function(a){if(i.find((function(i){return i.x===e&&i.y===t+a*n})))return{v:{v:!1}}},s=1;s<Math.abs(a);s++){var c=r(s);if(\"object\"===typeof c)return c.v}return{v:!0}}();if(\"object\"===typeof r)return r.v}if(0===a){var s=function(){for(var a=Math.sign(n),r=function(n){if(i.find((function(i){return i.x===e+n*a&&i.y===t})))return{v:{v:!1}}},s=1;s<Math.abs(n);s++){var c=r(s);if(\"object\"===typeof c)return c.v}return{v:!0}}();if(\"object\"===typeof s)return s.v}}return!1}function P(e,t,n,a,i){if(Math.abs(n)===Math.abs(a)){var r=function(){for(var r=Math.sign(n),s=Math.sign(a),c=function(n){if(i.find((function(a){return a.x===e+n*r&&a.y===t+n*s})))return{v:{v:!1}}},o=1;o<Math.abs(n);o++){var u=c(o);if(\"object\"===typeof u)return u.v}return{v:!0}}();if(\"object\"===typeof r)return r.v}return!1}function E(e,t,n,a,i){return 1===Math.abs(n)&&2===Math.abs(a)||2===Math.abs(n)&&1===Math.abs(a)}function H(e,t,n,a,i){return k(e,t,n,a,i)||P(e,t,n,a,i)}function T(e,t,n,a,i){return Math.abs(n)<2&&Math.abs(a)<2}var N=function(){function e(){Object(l.a)(this,e)}return Object(v.a)(e,[{key:\"takePiece\",value:function(e,t,n,a){var i=a.find((function(a){return a.x===e&&a.y===t&&a.team!==n}));i&&(i.taken=!0)}},{key:\"endMove\",value:function(e,t,n,a,i){M(e,t,n,a)||(this.takePiece(e,t,n,a),function(e){e.forEach((function(e){e.enPassantable=!1}))}(a),i.value=!0)}},{key:\"isValidMove\",value:function(e,t,n,a,i,r,s,c){if(r!==c)return!1;if(e===n&&t===a)return!1;var o={value:!1},u=n-e,l=a-t;switch(i){case b.PAWN:var v=r===f.WHITE?1:-1;if(function(e,t,n,a,i,r,s){return t===(i===f.WHITE?1:6)&&e===n&&t===a-2*s&&!I(n,a,r)&&!I(n,a-s,r)}(e,t,n,a,r,s,v))return function(e,t,n){n.forEach((function(n){n.x===e&&n.y===t?n.enPassantable=!0:n.enPassantable=!1}))}(e,t,s),!0;if(function(e,t,n,a,i,r,s){var c=i===f.WHITE?f.BLACK:f.WHITE;return t===a-s&&e===n&&!I(n,a,r)||!(n!==e+1&&n!==e-1||t!==a-s||!M(n,a,c,r))}(e,t,n,a,r,s,v)){this.endMove(n,a,r,s,o);break}if(function(e,t,n,a,i,r,s){var c=i===f.WHITE?f.BLACK:f.WHITE;return!(n!==e+1&&n!==e-1||t!==a-s||!M(n,t,c,r)||!function(e,t,n){var a=n.find((function(n){return n.x===e&&n.y===t}));return!(!a||!a.enPassantable)&&a.enPassantable}(n,t,r))}(e,t,n,a,r,s,v)){this.endMove(n,t,r,s,o);break}break;case b.NIGHT:if(E(0,0,u,l)){this.endMove(n,a,r,s,o);break}break;case b.BISHOP:if(P(e,t,u,l,s)){this.endMove(n,a,r,s,o);break}break;case b.ROOK:if(k(e,t,u,l,s)){this.endMove(n,a,r,s,o);break}break;case b.QUEEN:if(H(e,t,u,l,s)){this.endMove(n,a,r,s,o);break}break;case b.KING:if(T(0,0,u,l)){this.endMove(n,a,r,s,o);break}}return o.value}}]),e}(),K=function(){function e(){Object(l.a)(this,e)}return Object(v.a)(e,[{key:\"isMyKingInCheck\",value:function(e,t){var n=e===f.WHITE?f.BLACK:f.WHITE,a=t.find((function(t){return t.team===e&&t.type===b.KING}));return t.forEach((function(e){if(a&&e.team===n){var i=a.x-e.x,r=a.y-e.y;switch(e.type){case b.NIGHT:if(E(e.x,e.y,i,r))return!0;break;case b.BISHOP:if(console.log(\"im a bishop\"),P(e.x,e.y,i,r,t))return console.log(\"I think I can get your king\"),!0;break;case b.ROOK:if(k(e.x,e.y,i,r,t))return!0;break;case b.QUEEN:if(H(e.x,e.y,i,r,t))return!0;break;case b.KING:if(T(e.x,e.y,i,r))return!0}}})),!1}}]),e}();function W(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(0),s=Object(c.a)(r,2),b=s[0],l=s[1],v=Object(a.useState)(0),g=Object(c.a)(v,2),m=g[0],O=g[1],d=Object(a.useState)(y),x=Object(c.a)(d,2),j=x[0],I=x[1],M=Object(a.useRef)(null),k=new N,P=new K,E=Object(a.useState)(f.WHITE),H=Object(c.a)(E,2),T=H[0],W=H[1],B=Object(a.useState)(!1),L=Object(c.a)(B,2),A=L[0],S=L[1];for(var C=[],w=function(e){for(var t=function(t){var n=t+e,a=void 0;j.forEach((function(n){n.x===t&&n.y===e&&(a=n.image)})),C.push(Object(o.jsx)(u,{image:a,number:n},\"\".concat(t,\", \").concat(e)))},n=0;n<h.length;n++)t(n)},G=p.length-1;G>=0;G--)w(G);return Object(o.jsx)(\"div\",{ref:M,onMouseUp:function(e){return function(e){var t=M.current;if(n&&t){var a=Math.floor((e.clientX-t.offsetLeft)/100),r=Math.abs(Math.ceil((e.clientY-t.offsetTop-800)/100)),s=j.find((function(e){return e.x===b&&e.y===m}));if(s){var c=k.isValidMove(b,m,a,r,s.type,s.team,j,T),o=P.isMyKingInCheck(s.team,j);if(S(o),console.log(A,o),c&&!A){var u=T===f.WHITE?f.BLACK:f.WHITE;W(u),I(j);var l=j.find((function(e){return!0===e.taken})),v=j.indexOf(s);if(s.x=a,s.y=r,j[v]=s,l){var h=j.indexOf(l);j.splice(h,1)}I(j)}else n.style.position=\"relative\",n.style.removeProperty(\"left\"),n.style.removeProperty(\"top\")}}i(null)}(e)},onMouseMove:function(e){return function(e){var t=M.current;if(n&&t){var a=t.offsetLeft-25,i=t.offsetTop-25,r=t.offsetLeft+t.clientWidth-75,s=t.offsetTop+t.clientHeight-75,c=e.clientX-50,o=e.clientY-50;n.style.position=\"absolute\",n.style.left=\"\".concat(c<a?a:c>r?r:c,\"px\"),n.style.top=\"\".concat(o<i?i:o>s?s:o,\"px\")}}(e)},onMouseDown:function(e){return function(e){var t=M.current,n=e.target;if(n.classList.contains(\"chess-piece\")&&t){l(Math.floor((e.clientX-t.offsetLeft)/100)),O(Math.abs(Math.ceil((e.clientY-t.offsetTop-800)/100)));var a=e.clientX-50,r=e.clientY-50;n.style.position=\"absolute\",n.style.left=\"\".concat(a,\"px\"),n.style.top=\"\".concat(r,\"px\"),i(n)}}(e)},id:\"chessboard\",children:C})}var B=function(){return Object(o.jsx)(\"div\",{id:\"App\",children:Object(o.jsx)(W,{})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(B,{})}),document.getElementById(\"root\")),L()}],[[16,1,2]]]);","name":"static/js/main.670fb5a6.chunk.js","map":{"version":3,"sources":["static/js/main.670fb5a6.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","jsx_runtime","Tile","_ref","number","image","Object","className","children","style","backgroundImage","concat","TeamType","PieceType","classCallCheck","createClass","horizontalAxis","verticalAxis","initialBoardState","constants_p","constants_type","constants_team","BLACK","WHITE","constants_y","x","y","team","type","ROOK","enPassantable","NIGHT","BISHOP","QUEEN","KING","constants_i","length","PAWN","_i","pawnIsBlockaded","boardState","find","p","isFriendlyPiece","piece","isLegalRookMove","px","py","dx","dy","_ret","y_dir","Math","sign","_loop","i","v","abs","_ret2","_ret3","x_dir","_loop2","_ret4","isLegalBishopMove","_ret5","_loop3","_ret6","isLegalNightMove","isLegalQueenMove","isLegalKingMove","Referee_Referee","Referee","key","value","taken","valid","takePiece","forEach","unsetEnPassant","activePlayer","increment","isPawnStartingMove","setEnPassant","enemyTeam","isPawnNormalMove","endMove","checkEnPassant","isEnPassant","boardChecks_Checker","Checker","myKing","console","log","Chessboard","_useState","_useState2","activePiece","setActivePiece","_useState3","_useState4","gridX","setGridX","_useState5","_useState6","gridY","setGridY","_useState7","_useState8","pieces","setPieces","chessboardRef","referee","checker","_useState9","_useState10","setActivePlayer","_useState11","_useState12","inCheck","setInCheck","board","j","undefined","ref","onMouseUp","e","chessboard","current","floor","clientX","offsetLeft","ceil","clientY","offsetTop","currentPiece","validMove","isValidMove","check","isMyKingInCheck","nextPlayer","takenPiece","id1","indexOf","id2","splice","position","removeProperty","dropPiece","onMouseMove","minX","minY","maxX","clientWidth","maxY","clientHeight","left","top","movePiece","onMouseDown","element","target","classList","contains","grabPiece","id","src_App","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpchess\"] = this[\"webpackJsonpchess\"] || []).push([[0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 14 */,\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(6);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/components/Tile/tile.css\nvar tile = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Tile/Tile.tsx\nfunction Tile(_ref){var number=_ref.number,image=_ref.image;if(number%2===0){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"tile black-tile\",children:image&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{backgroundImage:\"url(\".concat(image,\")\")},className:\"chess-piece\"})});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"tile white-tile\",children:image&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{backgroundImage:\"url(\".concat(image,\")\")},className:\"chess-piece\"})});}}\n// EXTERNAL MODULE: ./src/components/chessboard/chessboard.css\nvar chessboard_chessboard = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/constants.ts\nvar horizontalAxis=['a','b','c','d','e','f','g','h'];var verticalAxis=[1,2,3,4,5,6,7,8];var TeamType;(function(TeamType){TeamType[TeamType[\"WHITE\"]=0]=\"WHITE\";TeamType[TeamType[\"BLACK\"]=1]=\"BLACK\";})(TeamType||(TeamType={}));var PieceType;(function(PieceType){PieceType[PieceType[\"PAWN\"]=0]=\"PAWN\";PieceType[PieceType[\"BISHOP\"]=1]=\"BISHOP\";PieceType[PieceType[\"NIGHT\"]=2]=\"NIGHT\";PieceType[PieceType[\"ROOK\"]=3]=\"ROOK\";PieceType[PieceType[\"QUEEN\"]=4]=\"QUEEN\";PieceType[PieceType[\"KING\"]=5]=\"KING\";})(PieceType||(PieceType={}));var initialBoardState=[];for(var constants_p=0;constants_p<2;constants_p++){var constants_type=constants_p===0?'b':'w';var constants_team=constants_p===0?TeamType.BLACK:TeamType.WHITE;var constants_y=constants_p===0?7:0;// Rooks\ninitialBoardState.push({image:\"assets/images/rook_\".concat(constants_type,\".png\"),x:0,y:constants_y,team:constants_team,type:PieceType.ROOK,enPassantable:false});initialBoardState.push({image:\"assets/images/rook_\".concat(constants_type,\".png\"),x:7,y:constants_y,team:constants_team,type:PieceType.ROOK,enPassantable:false});// Nights\ninitialBoardState.push({image:\"assets/images/night_\".concat(constants_type,\".png\"),x:1,y:constants_y,team:constants_team,type:PieceType.NIGHT,enPassantable:false});initialBoardState.push({image:\"assets/images/night_\".concat(constants_type,\".png\"),x:6,y:constants_y,team:constants_team,type:PieceType.NIGHT,enPassantable:false});// Bishops\ninitialBoardState.push({image:\"assets/images/bishop_\".concat(constants_type,\".png\"),x:2,y:constants_y,team:constants_team,type:PieceType.BISHOP,enPassantable:false});initialBoardState.push({image:\"assets/images/bishop_\".concat(constants_type,\".png\"),x:5,y:constants_y,team:constants_team,type:PieceType.BISHOP,enPassantable:false});// Queens\ninitialBoardState.push({image:\"assets/images/queen_\".concat(constants_type,\".png\"),x:3,y:constants_y,team:constants_team,type:PieceType.QUEEN,enPassantable:false});// Kings\ninitialBoardState.push({image:\"assets/images/king_\".concat(constants_type,\".png\"),x:4,y:constants_y,team:constants_team,type:PieceType.KING,enPassantable:false});}// Pawns\nfor(var constants_i=0;constants_i<horizontalAxis.length;constants_i++){initialBoardState.push({image:'assets/images/pawn_b.png',x:constants_i,y:6,team:TeamType.BLACK,type:PieceType.PAWN,enPassantable:false});}for(var _i=0;_i<horizontalAxis.length;_i++){initialBoardState.push({image:'assets/images/pawn_w.png',x:_i,y:1,team:TeamType.WHITE,type:PieceType.PAWN,enPassantable:false});}\n// CONCATENATED MODULE: ./src/referee/pawnLogic.ts\nfunction pawnIsBlockaded(x,y,boardState){var piece=boardState.find(function(p){return p.x===x&&p.y===y;});var occupied=piece?true:false;return occupied;}function checkEnPassant(x,y,boardState){var piece=boardState.find(function(p){return p.x===x&&p.y===y;});if(piece&&piece.enPassantable){return piece.enPassantable;}return false;}function setEnPassant(px,py,boardState){boardState.forEach(function(p){if(p.x===px&&p.y===py){p.enPassantable=true;}else{p.enPassantable=false;}});}function unsetEnPassant(boardState){boardState.forEach(function(p){p.enPassantable=false;});}function isFriendlyPiece(x,y,team,boardState){var piece=boardState.find(function(p){return p.x===x&&p.y===y;});var occupied=piece&&piece.team===team?true:false;return occupied;}function isPawnStartingMove(px,py,x,y,team,boardState,increment){var startingRow=team===TeamType.WHITE?1:6;if(py===startingRow&&px===x&&py===y-2*increment){if(!pawnIsBlockaded(x,y,boardState)&&!pawnIsBlockaded(x,y-increment,boardState)){return true;}}return false;}function isPawnNormalMove(px,py,x,y,team,boardState,increment){var enemyTeam=team===TeamType.WHITE?TeamType.BLACK:TeamType.WHITE;if(py===y-increment&&px===x){if(!pawnIsBlockaded(x,y,boardState)){return true;}}if((x===px+1||x===px-1)&&py===y-increment&&isFriendlyPiece(x,y,enemyTeam,boardState)){return true;}return false;}function isEnPassant(px,py,x,y,team,boardState,increment){var enemyTeam=team===TeamType.WHITE?TeamType.BLACK:TeamType.WHITE;if((x===px+1||x===px-1)&&py===y-increment&&isFriendlyPiece(x,py,enemyTeam,boardState)){if(checkEnPassant(x,py,boardState)){return true;}}return false;}\n// CONCATENATED MODULE: ./src/referee/pieceLogic.ts\nfunction isLegalRookMove(px,py,dx,dy,boardState){if(dx===0||dy===0){if(dx===0){var _ret=function(){var y_dir=Math.sign(dy);var _loop=function _loop(i){var obstructingPiece=boardState.find(function(p){return p.x===px&&p.y===py+i*y_dir;});if(obstructingPiece){return{v:{v:false}};}};for(var i=1;i<Math.abs(dy);i++){var _ret2=_loop(i);if(typeof _ret2===\"object\")return _ret2.v;}return{v:true};}();if(typeof _ret===\"object\")return _ret.v;}if(dy===0){var _ret3=function(){var x_dir=Math.sign(dx);var _loop2=function _loop2(i){var obstructingPiece=boardState.find(function(p){return p.x===px+i*x_dir&&p.y===py;});if(obstructingPiece){return{v:{v:false}};}};for(var i=1;i<Math.abs(dx);i++){var _ret4=_loop2(i);if(typeof _ret4===\"object\")return _ret4.v;}return{v:true};}();if(typeof _ret3===\"object\")return _ret3.v;}}return false;}function isLegalBishopMove(px,py,dx,dy,boardState){if(Math.abs(dx)===Math.abs(dy)){var _ret5=function(){var x_dir=Math.sign(dx);var y_dir=Math.sign(dy);var _loop3=function _loop3(i){var obstructingPiece=boardState.find(function(p){return p.x===px+i*x_dir&&p.y===py+i*y_dir;});if(obstructingPiece){return{v:{v:false}};}};for(var i=1;i<Math.abs(dx);i++){var _ret6=_loop3(i);if(typeof _ret6===\"object\")return _ret6.v;}return{v:true};}();if(typeof _ret5===\"object\")return _ret5.v;}return false;}function isLegalNightMove(px,py,dx,dy,boardState){if(Math.abs(dx)===1&&Math.abs(dy)===2||Math.abs(dx)===2&&Math.abs(dy)===1){return true;}return false;}function isLegalQueenMove(px,py,dx,dy,boardState){var legality=isLegalRookMove(px,py,dx,dy,boardState)||isLegalBishopMove(px,py,dx,dy,boardState);return legality;}function isLegalKingMove(px,py,dx,dy,boardState){if(Math.abs(dx)<2&&Math.abs(dy)<2){return true;}return false;}\n// CONCATENATED MODULE: ./src/referee/Referee.ts\nvar Referee_Referee=/*#__PURE__*/function(){function Referee(){Object(classCallCheck[\"a\" /* default */])(this,Referee);}Object(createClass[\"a\" /* default */])(Referee,[{key:\"takePiece\",value:function takePiece(x,y,team,boardState){var piece=boardState.find(function(p){return p.x===x&&p.y===y&&p.team!==team;});if(piece){piece.taken=true;}}},{key:\"endMove\",value:function endMove(x,y,team,boardState,valid){if(!isFriendlyPiece(x,y,team,boardState)){this.takePiece(x,y,team,boardState);unsetEnPassant(boardState);valid.value=true;}}},{key:\"isValidMove\",value:function isValidMove(px,py,x,y,type,team,boardState,activePlayer){// Only the active player can move\nif(team!==activePlayer){return false;}// A non-move is not a move\nif(px===x&&py===y){return false;}var valid={value:false};var dx=x-px;var dy=y-py;switch(type){case PieceType.PAWN:{var increment=team===TeamType.WHITE?1:-1;if(isPawnStartingMove(px,py,x,y,team,boardState,increment)){setEnPassant(px,py,boardState);return true;}if(isPawnNormalMove(px,py,x,y,team,boardState,increment)){this.endMove(x,y,team,boardState,valid);break;}if(isEnPassant(px,py,x,y,team,boardState,increment)){this.endMove(x,py,team,boardState,valid);break;}break;}case PieceType.NIGHT:{if(isLegalNightMove(px,py,dx,dy,boardState)){this.endMove(x,y,team,boardState,valid);break;}break;}case PieceType.BISHOP:{if(isLegalBishopMove(px,py,dx,dy,boardState)){this.endMove(x,y,team,boardState,valid);break;}break;}case PieceType.ROOK:{if(isLegalRookMove(px,py,dx,dy,boardState)){this.endMove(x,y,team,boardState,valid);break;}break;}case PieceType.QUEEN:{if(isLegalQueenMove(px,py,dx,dy,boardState)){this.endMove(x,y,team,boardState,valid);break;}break;}case PieceType.KING:{if(isLegalKingMove(px,py,dx,dy,boardState)){this.endMove(x,y,team,boardState,valid);break;}break;}}return valid.value;}}]);return Referee;}();\n// CONCATENATED MODULE: ./src/components/chessboard/boardChecks.ts\nvar boardChecks_Checker=/*#__PURE__*/function(){function Checker(){Object(classCallCheck[\"a\" /* default */])(this,Checker);}Object(createClass[\"a\" /* default */])(Checker,[{key:\"isMyKingInCheck\",value:function isMyKingInCheck(team,boardState){var enemyTeam=team===TeamType.WHITE?TeamType.BLACK:TeamType.WHITE;var myKing=boardState.find(function(p){return p.team===team&&p.type===PieceType.KING;});boardState.forEach(function(p){if(myKing&&p.team===enemyTeam){var dx=myKing.x-p.x;var dy=myKing.y-p.y;switch(p.type){case PieceType.NIGHT:{if(isLegalNightMove(p.x,p.y,dx,dy,boardState)){return true;}break;}case PieceType.BISHOP:{console.log('im a bishop');if(isLegalBishopMove(p.x,p.y,dx,dy,boardState)){console.log('I think I can get your king');return true;}break;}case PieceType.ROOK:{if(isLegalRookMove(p.x,p.y,dx,dy,boardState)){return true;}break;}case PieceType.QUEEN:{if(isLegalQueenMove(p.x,p.y,dx,dy,boardState)){return true;}break;}case PieceType.KING:{if(isLegalKingMove(p.x,p.y,dx,dy,boardState)){return true;}break;}}}});return false;}}]);return Checker;}();\n// CONCATENATED MODULE: ./src/components/chessboard/chessboard.tsx\nfunction Chessboard(){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),activePiece=_useState2[0],setActivePiece=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),gridX=_useState4[0],setGridX=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),gridY=_useState6[0],setGridY=_useState6[1];var _useState7=Object(react[\"useState\"])(initialBoardState),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),pieces=_useState8[0],setPieces=_useState8[1];var chessboardRef=Object(react[\"useRef\"])(null);var referee=new Referee_Referee();var checker=new boardChecks_Checker();var _useState9=Object(react[\"useState\"])(TeamType.WHITE),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),activePlayer=_useState10[0],setActivePlayer=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),inCheck=_useState12[0],setInCheck=_useState12[1];function grabPiece(e){var chessboard=chessboardRef.current;var element=e.target;if(element.classList.contains('chess-piece')&&chessboard){setGridX(Math.floor((e.clientX-chessboard.offsetLeft)/100));setGridY(Math.abs(Math.ceil((e.clientY-chessboard.offsetTop-800)/100)));var x=e.clientX-50;var y=e.clientY-50;element.style.position='absolute';element.style.left=\"\".concat(x,\"px\");element.style.top=\"\".concat(y,\"px\");setActivePiece(element);}}function movePiece(e){var chessboard=chessboardRef.current;if(activePiece&&chessboard){var minX=chessboard.offsetLeft-25;var minY=chessboard.offsetTop-25;var maxX=chessboard.offsetLeft+chessboard.clientWidth-75;var maxY=chessboard.offsetTop+chessboard.clientHeight-75;var x=e.clientX-50;var y=e.clientY-50;activePiece.style.position='absolute';if(x<minX){activePiece.style.left=\"\".concat(minX,\"px\");}else if(x>maxX){activePiece.style.left=\"\".concat(maxX,\"px\");}else{activePiece.style.left=\"\".concat(x,\"px\");}if(y<minY){activePiece.style.top=\"\".concat(minY,\"px\");}else if(y>maxY){activePiece.style.top=\"\".concat(maxY,\"px\");}else{activePiece.style.top=\"\".concat(y,\"px\");}}}function dropPiece(e){var chessboard=chessboardRef.current;if(activePiece&&chessboard){var x=Math.floor((e.clientX-chessboard.offsetLeft)/100);var y=Math.abs(Math.ceil((e.clientY-chessboard.offsetTop-800)/100));var currentPiece=pieces.find(function(p){return p.x===gridX&&p.y===gridY;});if(currentPiece){var validMove=referee.isValidMove(gridX,gridY,x,y,currentPiece.type,currentPiece.team,pieces,activePlayer);var check=checker.isMyKingInCheck(currentPiece.team,pieces);setInCheck(check);console.log(inCheck,check);if(validMove&&!inCheck){var nextPlayer=activePlayer===TeamType.WHITE?TeamType.BLACK:TeamType.WHITE;setActivePlayer(nextPlayer);setPieces(pieces);var takenPiece=pieces.find(function(p){return p.taken===true;});var id1=pieces.indexOf(currentPiece);currentPiece.x=x;currentPiece.y=y;pieces[id1]=currentPiece;if(takenPiece){var id2=pieces.indexOf(takenPiece);pieces.splice(id2,1);}setPieces(pieces);}else{activePiece.style.position='relative';activePiece.style.removeProperty('left');activePiece.style.removeProperty('top');}}}setActivePiece(null);}var board=[];var _loop=function _loop(j){var _loop2=function _loop2(i){var number=i+j;var image=undefined;pieces.forEach(function(p){if(p.x===i&&p.y===j){image=p.image;}});board.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tile,{image:image,number:number},\"\".concat(i,\", \").concat(j)));};for(var i=0;i<horizontalAxis.length;i++){_loop2(i);}};for(var j=verticalAxis.length-1;j>=0;j--){_loop(j);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:chessboardRef,onMouseUp:function onMouseUp(e){return dropPiece(e);},onMouseMove:function onMouseMove(e){return movePiece(e);},onMouseDown:function onMouseDown(e){return grabPiece(e);},id:\"chessboard\",children:board});}\n// CONCATENATED MODULE: ./src/App.tsx\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chessboard,{})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.ts\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 17)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n],[[16,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/jaybird/Coding Projects/Chess4/chess/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jaybird/Coding Projects/Chess4/chess/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jaybird/Coding Projects/Chess4/chess/node_modules/postcss-loader/src/index.js??postcss!/home/jaybird/Coding Projects/Chess4/chess/src/index.css","/home/jaybird/Coding Projects/Chess4/chess/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jaybird/Coding Projects/Chess4/chess/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jaybird/Coding Projects/Chess4/chess/node_modules/postcss-loader/src/index.js??postcss!/home/jaybird/Coding Projects/Chess4/chess/src/App.css","/home/jaybird/Coding Projects/Chess4/chess/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jaybird/Coding Projects/Chess4/chess/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jaybird/Coding Projects/Chess4/chess/node_modules/postcss-loader/src/index.js??postcss!/home/jaybird/Coding Projects/Chess4/chess/src/components/Tile/tile.css","/home/jaybird/Coding Projects/Chess4/chess/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jaybird/Coding Projects/Chess4/chess/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jaybird/Coding Projects/Chess4/chess/node_modules/postcss-loader/src/index.js??postcss!/home/jaybird/Coding Projects/Chess4/chess/src/components/chessboard/chessboard.css","/home/jaybird/Coding Projects/Chess4/chess/src/components/Tile/Tile.tsx","/home/jaybird/Coding Projects/Chess4/chess/src/constants.ts","/home/jaybird/Coding Projects/Chess4/chess/src/referee/pawnLogic.ts","/home/jaybird/Coding Projects/Chess4/chess/src/referee/pieceLogic.ts","/home/jaybird/Coding Projects/Chess4/chess/src/referee/Referee.ts","/home/jaybird/Coding Projects/Chess4/chess/src/components/chessboard/boardChecks.ts","/home/jaybird/Coding Projects/Chess4/chess/src/components/chessboard/chessboard.tsx","/home/jaybird/Coding Projects/Chess4/chess/src/App.tsx","/home/jaybird/Coding Projects/Chess4/chess/src/reportWebVitals.ts","/home/jaybird/Coding Projects/Chess4/chess/src/index.tsx"],"names":["Tile","number","image","backgroundImage","horizontalAxis","verticalAxis","TeamType","PieceType","initialBoardState","p","type","team","BLACK","WHITE","y","push","x","ROOK","enPassantable","NIGHT","BISHOP","QUEEN","KING","i","length","PAWN","pawnIsBlockaded","boardState","piece","find","occupied","checkEnPassant","setEnPassant","px","py","forEach","unsetEnPassant","isFriendlyPiece","isPawnStartingMove","increment","startingRow","isPawnNormalMove","enemyTeam","isEnPassant","isLegalRookMove","dx","dy","y_dir","Math","sign","obstructingPiece","abs","x_dir","isLegalBishopMove","isLegalNightMove","isLegalQueenMove","legality","isLegalKingMove","Referee","taken","valid","takePiece","value","activePlayer","endMove","Checker","myKing","console","log","Chessboard","useState","activePiece","setActivePiece","gridX","setGridX","gridY","setGridY","pieces","setPieces","chessboardRef","useRef","referee","checker","setActivePlayer","inCheck","setInCheck","grabPiece","e","chessboard","current","element","target","classList","contains","floor","clientX","offsetLeft","ceil","clientY","offsetTop","style","position","left","top","movePiece","minX","minY","maxX","clientWidth","maxY","clientHeight","dropPiece","currentPiece","validMove","isValidMove","check","isMyKingInCheck","nextPlayer","takenPiece","id1","indexOf","id2","splice","removeProperty","board","j","undefined","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import './tile.css'\n\ninterface Props {\n    number : number;\n    image? : string;\n}\n\n\nexport default function Tile({number, image}: Props){\n    if (number % 2 === 0){\n        return <div className = 'tile black-tile'>\n        {image && <div style = {{backgroundImage : `url(${image})`}} className = 'chess-piece'></div>}\n        </div>\n    } else{\n        return <div className = 'tile white-tile'> \n        {image && <div style = {{backgroundImage : `url(${image})`}} className = 'chess-piece'></div>}\n        </div>\n    }\n    \n}","export const horizontalAxis = ['a', 'b', 'c', 'd', 'e', 'f',   'g', 'h'];\nexport const verticalAxis = [1,2,3,4,5,6,7,8];\n\nexport interface Piece {\n    image: string;\n    x : number; \n    y : number; \n    type : PieceType;\n    team : TeamType;\n    enPassantable? : boolean\n    taken? : boolean\n}\n\nexport enum TeamType{\n    WHITE,\n    BLACK\n}\n\nexport enum PieceType {\n    PAWN,\n    BISHOP, \n    NIGHT, \n    ROOK,\n    QUEEN,\n    KING,\n}\n\nexport const initialBoardState : Piece[] = [];\n\nfor (let p = 0; p < 2; p ++){\n    const type = p === 0 ? 'b': 'w';\n    const team = p === 0 ? TeamType.BLACK : TeamType.WHITE;\n    const y = p === 0 ?  7 : 0;\n    // Rooks\n    initialBoardState.push({image : `assets/images/rook_${type}.png`, x : 0,  y, team, type : PieceType.ROOK, enPassantable : false})\n    initialBoardState.push({image : `assets/images/rook_${type}.png`, x : 7,  y, team, type : PieceType.ROOK, enPassantable : false})\n\n    // Nights\n    initialBoardState.push({image : `assets/images/night_${type}.png`, x : 1,  y, team, type : PieceType.NIGHT, enPassantable : false})\n    initialBoardState.push({image : `assets/images/night_${type}.png`, x : 6,  y, team, type : PieceType.NIGHT, enPassantable : false})\n\n    // Bishops\n    initialBoardState.push({image : `assets/images/bishop_${type}.png`, x : 2,  y, team, type : PieceType.BISHOP, enPassantable : false})\n    initialBoardState.push({image : `assets/images/bishop_${type}.png`, x : 5,  y, team, type : PieceType.BISHOP, enPassantable : false})\n\n    // Queens\n    initialBoardState.push({image : `assets/images/queen_${type}.png`, x : 3,  y, team, type : PieceType.QUEEN, enPassantable : false})\n    // Kings\n    initialBoardState.push({image : `assets/images/king_${type}.png`, x : 4,  y, team, type : PieceType.KING, enPassantable : false})\n\n}\n\n// Pawns\nfor (let i = 0; i < horizontalAxis.length; i++){\n    initialBoardState.push({image : 'assets/images/pawn_b.png', x : i, y : 6, team : TeamType.BLACK, type : PieceType.PAWN, enPassantable : false})\n}\nfor (let i = 0; i < horizontalAxis.length; i++){\n    initialBoardState.push({image : 'assets/images/pawn_w.png', x : i, y : 1, team : TeamType.WHITE, type : PieceType.PAWN, enPassantable : false})\n}","import { Piece, TeamType } from '../constants'\n\nfunction pawnIsBlockaded(x : number, y: number, boardState : Piece []): boolean {\n    const piece = boardState.find(p => p.x === x && p.y === y) \n    const occupied =  piece ? true : false\n    return occupied\n}\n\nfunction checkEnPassant (x : number, y : number, boardState : Piece []) : boolean {\n    const piece = boardState.find(p => p.x === x && p.y === y)\n    if (piece && piece.enPassantable){\n        return piece.enPassantable  \n    } return false\n}\n\n\n\n\nexport function setEnPassant(px : number, py : number, boardState : Piece []){\n        boardState.forEach(p => {\n            if (p.x === px && p.y === py){\n                p.enPassantable = true\n            } else{\n                p.enPassantable = false\n            }\n        })\n    }\n\nexport function unsetEnPassant( boardState : Piece []){\n    boardState.forEach(p => {\n            p.enPassantable = false\n    })\n}\n\nexport function isFriendlyPiece(x : number, y: number, team : TeamType, boardState : Piece []): boolean {\n    const piece = boardState.find(p => p.x === x && p.y === y)\n    const occupied =  piece && piece.team === team ? true : false\n    return occupied\n}\n\nexport function isPawnStartingMove(px : number, py : number, x : number, y : number, \n                                    team : TeamType, boardState : Piece [], increment : number):boolean{\n    const startingRow = team === TeamType.WHITE ? 1 : 6\n    if ((py === startingRow && px === x) && (py === y - 2 * increment)){\n        if (!pawnIsBlockaded(x, y, boardState) && !pawnIsBlockaded(x, y - increment, boardState)){\n            return true\n        }\n    } return false\n}\n\nexport function isPawnNormalMove(px : number, py : number, x : number, y : number, \n                                team : TeamType, boardState : Piece [], increment : number): boolean{\n    const enemyTeam = team === TeamType.WHITE ? TeamType.BLACK : TeamType.WHITE\n    if (py === y - increment && px === x){\n        if (!pawnIsBlockaded(x, y, boardState)){\n            return true;\n        } \n    }\n    if ((x === px + 1 || x === px -1) && (py === y - increment) && isFriendlyPiece(x, y, enemyTeam, boardState)) {\n        return true\n    } \n    return false \n} \n\n\nexport function isEnPassant(px : number, py : number, x : number, y : number,\n                                 team : TeamType, boardState : Piece [], increment : number): boolean{\n    const enemyTeam = team === TeamType.WHITE ? TeamType.BLACK : TeamType.WHITE\n    if ((x === px + 1 || x === px -1) && (py === y - increment) && isFriendlyPiece(x, py, enemyTeam, boardState)) {\n        if (checkEnPassant(x, py, boardState)){\n            return true\n        }\n    }\n    return false\n}","import { Piece } from '../constants'\n\nexport function isLegalRookMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean {\n    if (dx === 0 || dy === 0){\n        if (dx === 0){\n            const y_dir = Math.sign(dy)\n            for (let i = 1; i < Math.abs(dy); i ++){\n                const obstructingPiece = boardState.find(p => p.x === px && p.y === py + i*y_dir) \n                if (obstructingPiece){\n                    return false\n                }\n            } \n            return true\n        }\n        if (dy === 0){\n            const x_dir = Math.sign(dx)\n            for (let i = 1; i < Math.abs(dx); i ++){\n                const obstructingPiece = boardState.find(p => p.x === px + i*x_dir && p.y === py) \n                if (obstructingPiece){\n                    return false\n                }\n            } \n            return true\n        }\n    } \n    return false;\n}\n\nexport function isLegalBishopMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    if (Math.abs(dx) === Math.abs(dy)){\n        const x_dir = Math.sign(dx)\n        const y_dir = Math.sign(dy)\n        for (let i = 1; i < Math.abs(dx); i ++){\n            const obstructingPiece = boardState.find(p => p.x === px + i*x_dir && p.y === py + i*y_dir) \n            if (obstructingPiece){\n                return false\n            }\n        } \n        return true\n    } \n    return false\n}\nexport function isLegalNightMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    if ((Math.abs(dx) === 1 && Math.abs(dy) === 2) || (Math.abs(dx) === 2 && Math.abs(dy) === 1)){\n        return true\n    }\n    return false\n}\nexport function isLegalQueenMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    const legality = isLegalRookMove(px, py, dx, dy, boardState) || isLegalBishopMove(px, py, dx, dy, boardState)\n    return legality\n}\n\n\nexport function isLegalKingMove(px : number, py : number, dx : number, dy : number, boardState : Piece[]) : boolean{\n    if (Math.abs(dx) < 2 && Math.abs(dy) < 2){\n        return true\n    } \n    return false\n}","import { PieceType, TeamType, Piece } from \"../constants\"\nimport { isPawnNormalMove, isEnPassant, isPawnStartingMove, isFriendlyPiece, unsetEnPassant, setEnPassant } from \"./pawnLogic\"\nimport { isLegalBishopMove, isLegalRookMove, isLegalQueenMove, isLegalKingMove, isLegalNightMove} from \"./pieceLogic\"\n\nexport default class Referee{\n    takePiece(x : number, y: number, team : TeamType, boardState : Piece []){\n        const piece = boardState.find(p => p.x === x && p.y === y && p.team !== team)  \n        if (piece) {\n            piece.taken = true\n        }\n    }\n    endMove(x : number, y: number, team : TeamType, boardState : Piece [], valid : any){\n        if (!isFriendlyPiece(x, y, team, boardState)){\n            this.takePiece(x, y, team, boardState)\n            unsetEnPassant(boardState)\n            valid.value = true          \n        }\n    }\n    isValidMove(px : number, py : number, x : number, y : number, type : PieceType, \n                team : TeamType, boardState : Piece [], activePlayer : TeamType){\n        // Only the active player can move\n        if (team !== activePlayer){\n            return false\n        }\n        // A non-move is not a move\n        if (px === x && py === y){\n            return false\n        }\n        var valid = { value: false }\n        const dx = x - px\n        const dy = y - py\n\n        switch(type){\n            case PieceType.PAWN : {\n                const increment = team === TeamType.WHITE ? 1 : - 1\n                if (isPawnStartingMove(px, py, x, y, team, boardState, increment)){\n                    setEnPassant(px, py, boardState)\n                    return true\n                }\n                if (isPawnNormalMove(px, py, x, y, team, boardState, increment)){\n                    this.endMove(x, y, team, boardState, valid)\n                    break;\n                }\n                if (isEnPassant(px, py, x, y, team, boardState, increment)){\n                    this.endMove(x, py, team, boardState, valid)\n                    break;\n                }\n                break;\n            }\n            case PieceType.NIGHT : {\n                if (isLegalNightMove(px, py, dx, dy, boardState)){\n                    this.endMove(x, y, team, boardState, valid)\n                    break;\n                }\n                break;\n            }\n            case PieceType.BISHOP : {\n                if (isLegalBishopMove(px, py, dx, dy, boardState)){\n                    this.endMove(x, y, team, boardState, valid)\n                    break;\n                }\n                break;\n            }\n            case PieceType.ROOK : {\n                if (isLegalRookMove(px, py, dx, dy, boardState)){\n                    this.endMove(x, y, team, boardState, valid)\n                    break;\n                }\n                break;\n            }\n            case PieceType.QUEEN : {\n                if (isLegalQueenMove(px, py, dx, dy, boardState)){\n                    this.endMove(x, y, team, boardState, valid)\n                    break;\n                }\n                break;\n            }\n            case PieceType.KING : {\n                if (isLegalKingMove(px, py, dx, dy, boardState)){\n                    this.endMove(x, y, team, boardState, valid)\n                    break;\n                }\n                break;\n            }\n        }\n    return valid.value\n    }\n}","import { PieceType, TeamType, Piece } from \"../../constants\"\nimport { isLegalBishopMove, isLegalRookMove, isLegalQueenMove, isLegalKingMove, isLegalNightMove} from \"../../referee/pieceLogic\"\n\nexport default class Checker{\n    isMyKingInCheck(team : TeamType, boardState : Piece []) : boolean {\n    const enemyTeam = team === TeamType.WHITE ? TeamType.BLACK : TeamType.WHITE\n    const myKing = boardState.find(p => p.team === team && p.type === PieceType.KING) \n    boardState.forEach(p => {\n        if (myKing && p.team === enemyTeam) {\n            const dx = myKing.x - p.x\n            const dy = myKing.y - p.y\n            switch (p.type){\n                case PieceType.NIGHT : {\n                    if (isLegalNightMove(p.x, p.y, dx, dy, boardState)){\n                        return true;\n                    } break;\n                }\n                case PieceType.BISHOP : {\n                    console.log('im a bishop')\n                    if (isLegalBishopMove(p.x, p.y, dx, dy, boardState)){\n                        console.log('I think I can get your king')\n                        return true;\n                    } break;\n                }\n                case PieceType.ROOK : {\n                    if (isLegalRookMove(p.x, p.y, dx, dy, boardState)){\n                        return true;\n                    } break;\n                }\n                case PieceType.QUEEN : {\n                    if (isLegalQueenMove(p.x, p.y, dx, dy, boardState)){\n                        return true;\n                    } break;\n                }\n                case PieceType.KING : {\n                    if (isLegalKingMove(p.x, p.y, dx, dy, boardState)){\n                        return true;\n                    } break;\n                }\n            }\n\n        }\n    })\n    return false\n}\n}","import React, {useRef, useState } from 'react';\nimport Tile from '../Tile/Tile';\nimport './chessboard.css';\nimport Referee from '../../referee/Referee'\nimport {verticalAxis, horizontalAxis, Piece, TeamType, initialBoardState} from '../../constants'\nimport Checker from './boardChecks'\n\nexport default function Chessboard(){\n    const [activePiece, setActivePiece] = useState<HTMLElement | null>(null) \n    const [gridX, setGridX] = useState(0);\n    const [gridY, setGridY] = useState(0);\n    const [pieces, setPieces]  = useState<Piece[]>(initialBoardState);\n    const chessboardRef = useRef<HTMLDivElement>(null);\n    const referee = new Referee();\n    const checker = new Checker();\n    const [activePlayer, setActivePlayer] = useState<TeamType>(TeamType.WHITE);\n    const [inCheck, setInCheck] = useState<boolean>(false)\n\n    function grabPiece(e: React.MouseEvent){\n        const chessboard = chessboardRef.current\n        const element = e.target as HTMLElement\n        if (element.classList.contains('chess-piece') && chessboard){\n            setGridX(Math.floor((e.clientX - chessboard.offsetLeft)/100));\n            setGridY(Math.abs(Math.ceil((e.clientY - chessboard.offsetTop - 800)/100)));\n            const x = e.clientX - 50;\n            const y = e.clientY - 50;\n            element.style.position = 'absolute'; \n            element.style.left = `${x}px`;\n            element.style.top = `${y}px`;\n            setActivePiece(element)    \n        }\n    \n    }\n    \n    function movePiece(e: React.MouseEvent){\n        const chessboard = chessboardRef.current\n        if (activePiece && chessboard){\n            const minX = chessboard.offsetLeft - 25;\n            const minY = chessboard.offsetTop - 25;\n            const maxX = chessboard.offsetLeft + chessboard.clientWidth -75;\n            const maxY = chessboard.offsetTop + chessboard.clientHeight -75;\n            const x = e.clientX -50;\n            const y = e.clientY -50;\n            activePiece.style.position = 'absolute'; \n            if (x < minX) {\n                activePiece.style.left = `${minX}px` ;\n            } else if (x > maxX) {\n                activePiece.style.left = `${maxX}px`;\n            } else {\n                activePiece.style.left = `${x}px`;\n            }\n            if (y < minY) {\n                activePiece.style.top = `${minY}px`;\n            } else if (y > maxY) {\n                activePiece.style.top = `${maxY}px`;\n            } else {\n                activePiece.style.top = `${y}px`;\n            }\n        }\n    }\n    \n    function dropPiece(e: React.MouseEvent){\n        const chessboard = chessboardRef.current;\n        if (activePiece && chessboard){\n            const x = Math.floor((e.clientX - chessboard.offsetLeft)/100);\n            const y = Math.abs(Math.ceil((e.clientY - chessboard.offsetTop - 800)/100))\n            const currentPiece = pieces.find(p => p.x === gridX && p.y ===gridY)\n            if (currentPiece){\n                const validMove = referee.isValidMove(gridX, gridY, x, y, currentPiece.type, currentPiece.team, pieces, activePlayer);\n                const check = checker.isMyKingInCheck(currentPiece.team, pieces);                \n                setInCheck(check) \n                console.log(inCheck, check)\n                if (validMove && !inCheck){\n                    const nextPlayer = activePlayer === TeamType.WHITE ? TeamType.BLACK : TeamType.WHITE\n                    setActivePlayer(nextPlayer)\n                    setPieces(pieces)\n                    const takenPiece = pieces.find(p => p.taken === true)\n                    const id1 = pieces.indexOf(currentPiece)\n                    currentPiece.x = x\n                    currentPiece.y = y\n                    pieces[id1] = currentPiece\n                    if (takenPiece){\n                        const id2 = pieces.indexOf(takenPiece)\n                        pieces.splice(id2, 1)\n                    }\n                setPieces(pieces)\n                } else {\n                    activePiece.style.position = 'relative';\n                    activePiece.style.removeProperty('left');\n                    activePiece.style.removeProperty('top');\n                }\n            }\n        }\n        setActivePiece(null);\n    }\n    let board = [];\n    for (let j = verticalAxis.length - 1; j >= 0; j-- ){\n        for (let i = 0; i < horizontalAxis.length; i++ ) {\n            const number = i + j;\n            let image = undefined;\n            pieces.forEach(p => {\n                if (p.x === i && p.y === j){\n                    image = p.image;\n                }\n                \n            }); \n            board.push(<Tile key = {`${i}, ${j}`} image = {image} number = {number}/>);\n        }\n    }\n    return <div \n    ref = {chessboardRef} \n    onMouseUp = {e => dropPiece(e)} \n    onMouseMove = {e => movePiece(e)} \n    onMouseDown = {e => grabPiece(e)} \n    id = 'chessboard'>{board}</div>;\n}","import './App.css';\nimport Chessboard from './components/chessboard/chessboard';\n\n\nfunction App() {\n  return (\n    <div id = 'App'>\n      <Chessboard></Chessboard>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}